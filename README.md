# MCP Tutorial using Python

μ΄ μ €μ¥μ†λ” **MCP(Model Context Protocol)**λ¥Ό μ‚¬μ©ν•μ—¬ λ‹¤μ–‘ν• μΆ…λ¥μ AI μ—μ΄μ „νΈ λ„κµ¬ μ„λ²„λ¥Ό κµ¬μ¶•ν•λ” λ°©λ²•μ„ λ°°μ°κΈ° μ„ν• νμ΄μ¬ νν† λ¦¬μ–Ό ν”„λ΅μ νΈμ…λ‹λ‹¤. `uv` ν¨ν‚¤μ§€ κ΄€λ¦¬μλ¥Ό μ‚¬μ©ν•μ—¬ ν™κ²½μ„ μ„¤μ •ν•κ³ , μ—¬λ¬ ν†µμ‹  λ°©μ‹(stdio, SSE, HTTP Streaming)μ„ λ‹¨κ³„λ³„λ΅ ν•™μµν•©λ‹λ‹¤.

## π€ μ‚¬μ©λ κΈ°μ  μ¤νƒ

-   **μ–Έμ–΄**: Python 3.13+
-   **ν¨ν‚¤μ§€ κ΄€λ¦¬**: `uv`
-   **MCP λΌμ΄λΈλ¬λ¦¬**: `mcp`, `fastmcp`
-   **μ›Ή ν”„λ μ„μ›ν¬**: `FastAPI`, `Starlette`
-   **μ›Ή μ„λ²„**: `uvicorn`

## β™οΈ ν”„λ΅μ νΈ μ„¤μ •

1.  **μ €μ¥μ† ν΄λ΅ :**
    ```bash
    git clone <repository-url>
    cd mcp-tutorial-python
    ```

2.  **`uv` μ„¤μΉ:**
    `uv`κ°€ μ„¤μΉλμ–΄ μμ§€ μ•λ‹¤λ©΄, κ³µμ‹ λ¬Έμ„μ— λ”°λΌ μ„¤μΉν•©λ‹λ‹¤.
    ```bash
    # μμ‹ (macOS/Linux)
    curl -LsSf https://astral.sh/uv/install.sh | sh
    ```

3.  **κ°€μƒν™κ²½ μƒμ„± λ° μμ΅΄μ„± μ„¤μΉ:**
    `uv`κ°€ μλ™μΌλ΅ `pyproject.toml`μ„ μ½μ–΄ κ°€μƒν™κ²½μ„ λ§λ“¤κ³  ν•„μ”ν• λ¨λ“  ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•©λ‹λ‹¤.
    ```bash
    uv sync
    ```

## π“ μ±•ν„°λ³„ μμ  μ‹¤ν–‰ λ°©λ²•

κ° μ±•ν„°μ μμ λ” ν•΄λ‹Ή λ””λ ‰ν† λ¦¬λ΅ μ΄λ™ν•μ—¬ μ‹¤ν–‰ν•λ” κ²ƒμ„ κ¶μ¥ν•©λ‹λ‹¤.

---

### Chapter 1: `stdio` κΈ°λ° μ„λ²„

-   **μ„¤λ…**: κ°€μ¥ κΈ°λ³Έμ μΈ μΌλ€μΌ ν†µμ‹  λ°©μ‹μΈ `stdio`λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
-   **μ„μΉ**: `ch01/`

```bash
# ch01 λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd ch01

# μ„λ²„λ¥Ό ν…μ¤νΈν•λ” ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰
uv run python 01_weather-client.py
```

---

### Chapter 3, Part 3: LLM ν΄λΌμ΄μ–ΈνΈμ™€ `stdio`

-   **μ„¤λ…**: LLMμ΄ λ„κµ¬λ¥Ό μ„ νƒν•κ³  νΈμ¶ν•λ” κ³Όμ •μ„ μ‹λ®¬λ μ΄μ…ν•λ” ν΄λΌμ΄μ–ΈνΈμ…λ‹λ‹¤.
-   **μ„μΉ**: `ch03/03_llm-client/`

```bash
# ν•΄λ‹Ή λ””λ ‰ν† λ¦¬λ΅ μ΄λ™
cd ch03/03_llm-client

# ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰ (λ‚΄λ¶€μ μΌλ΅ server.pyλ¥Ό μλ™μΌλ΅ μ‹¤ν–‰)
uv run python client.py
```

---

### Chapter 3, Part 4: VS Codeμ™€ μ—°λ™ν•κΈ°

-   **μ„¤λ…**: μ‘μ„±ν• MCP μ„λ²„λ¥Ό VS Codeμ AI κΈ°λ¥(`@workspace`)κ³Ό μ§μ ‘ μ—°λ™ν•©λ‹λ‹¤.
-   **μƒμ„Έ μ•λ‚΄**: `ch03/04_vscode/README.md` νμΌμ„ μ°Έκ³ ν•μ„Έμ”.

```bash
# 1. VS Codeμ— μ„λ²„ λ“±λ΅ (ν”„λ΅μ νΈ λ£¨νΈμ—μ„ μ‹¤ν–‰)
code --add-mcp '{"name":"Python LLM Server","command":"uv","args":["run","python","ch03/03_llm-client/server.py"]}'

# 2. VS Code λ…λ Ή ν”λ νΈ(Cmd+Shift+P)μ—μ„ "MCP: Connect To Server" μ‹¤ν–‰
```

---

### Chapter 3, Part 5: SSE (Server-Sent Events) μ„λ²„

-   **μ„¤λ…**: μ—¬λ¬ ν΄λΌμ΄μ–ΈνΈκ°€ λ™μ‹μ— μ ‘μ†ν•  μ μλ” μ›Ή κΈ°λ°(HTTP) μ„λ²„μ…λ‹λ‹¤. `Starlette`κ³Ό `FastAPI` λ‘ κ°€μ§€ λ°©μ‹μΌλ΅ κµ¬ν„λμ—μµλ‹λ‹¤.
-   **μ„μΉ**: `ch03/05_sse-server/`

**μ‹¤ν–‰ λ°©λ²• (λ‘ κ°μ ν„°λ―Έλ„ ν•„μ”):**

1.  **[ν„°λ―Έλ„ 1] μ„λ²„ μ‹¤ν–‰:**
    ```bash
    # λ””λ ‰ν† λ¦¬ μ΄λ™
    cd ch03/05_sse-server

    # FastAPI λ²„μ „ μ„λ²„ μ‹¤ν–‰ (μλ™ λ¦¬λ΅λ“ κΈ°λ¥ ν¬ν•¨)
    uv run python server-fastapi.py
    ```

2.  **[ν„°λ―Έλ„ 2] Inspectorλ΅ ν…μ¤νΈ:**
    -   μ›Ή λΈλΌμ°μ €μ—μ„ Inspector(`http://localhost:6274`)λ¥Ό μ—΄κ³ , SSE Transportλ¥Ό ν†µν•΄ `http://localhost:8000/sse`μ— μ—°κ²°ν•μ—¬ ν…μ¤νΈν•©λ‹λ‹¤.
    -   λλ”, `npx`λ¥Ό μ‚¬μ©ν•μ—¬ CLIμ—μ„ μ§μ ‘ ν…μ¤νΈν•  μ μμµλ‹λ‹¤.
    ```bash
    npx @modelcontextprotocol/inspector --cli http://localhost:8000/sse --method tools/list
    ```

**FastAPIμ μ¥μ :**
-   μ„λ²„ μ‹¤ν–‰ ν›„, μ›Ή λΈλΌμ°μ €μ—μ„ `http://localhost:8000/docs`λ΅ μ ‘μ†ν•μ—¬ μλ™ μƒμ„±λ API λ¬Έμ„λ¥Ό ν™•μΈν•κ³  μ§μ ‘ ν…μ¤νΈν•΄λ³Ό μ μμµλ‹λ‹¤.

---

### Chapter 3, Part 6: HTTP μ¤νΈλ¦¬λ°

-   **μ„¤λ…**: λΉ„λ™κΈ° μ λ„λ μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ μ‹¤μ‹κ°„μΌλ΅ μ²λ¦¬ κ³Όμ •μ„ ν΄λΌμ΄μ–ΈνΈμ—κ² μ¤νΈλ¦¬λ°ν•λ” λ°©λ²•μ„ ν•™μµν•©λ‹λ‹¤.
-   **μ„μΉ**: `ch03/06_http-streaming/`
-   **μƒμ„Έ μ•λ‚΄**: `ch03/06_http-streaming/06_how-to-work.md` νμΌμ„ μ°Έκ³ ν•μ„Έμ”.

**μ‹¤ν–‰ λ°©λ²• (λ‘ κ°μ λ¨λ“):**

1.  **μ„λ²„ μ‹¤ν–‰:**
    ```bash
    # λ””λ ‰ν† λ¦¬ μ΄λ™
    cd ch03/06_http-streaming

    # μ„λ²„ μ‹¤ν–‰ (MCP λ¨λ“)
    uv run python server.py mcp
    ```

2.  **ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰:**
    -   **MCP ν΄λΌμ΄μ–ΈνΈ λ¨λ“:**
        ```bash
        # λ³„λ„μ ν„°λ―Έλ„μ—μ„ μ‹¤ν–‰
        uv run python client.py mcp
        ```
    -   **μΌλ° HTTP μ¤νΈλ¦¬λ° λ¨λ“:**
        ```bash
        # λ³„λ„μ ν„°λ―Έλ„μ—μ„ μ‹¤ν–‰
        uv run python client.py
        ```